[[# Main index template.
Expected parameters:
- title: string, Web page title
- entries: list(string), generated HTML for each entry.
- rel_base_url: string, Relative url to base of site. May be empty.
- prev_url: None or string url
- next_url: None or string url
- curr_page: int, Current page number
- max_page: int, Max page number
- last_gen_ts: the DateTime of when this page was generated
- last_content_ts: the DateTime of the most recent post (based on the post's date, not the filesystem)
- rig3_version: string, a version number or SVN info for this rig3 build
- all_categories: list(string), all categories names.
- tracking_code: Raw HTML for stats tracking (e.g. Google Analytics' tracking code) as defined per site-prefs.

No assumption is done on the actual data for an entry. It could be the entry
itself, some SHTML entity or just about any textual thing.

TODO:
- layout: header, footer, associated links

Relevant links:
- shtml: http://httpd.apache.org/docs/1.3/howto/ssi.html
]]
<html lang="en-US">
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
  <title>[[html public_name]] - [[html title]]</title>
  <link rel="stylesheet" type="text/css" href="[[url rel_base_url]]media/style.css" />
</head>
<body>

<div class="header"
style="height: [[html header_img_height]]px; width: 100%; background: no-repeat top center scroll url([[if header_img_url]][[url header_img_url]][[end]][[if not header_img_url]][[url rel_base_url]]media/top_banner.jpg[[end]]) ">
</div>

<div class="blog-name">[[html public_name]]</div>

<div class="categories">
<a href="[[url rel_base_url]]">All</a>
[[for cat in all_categories]] | <a href="[[url rel_base_url]]cat/[[url cat]]/">[[html cat.capitalize()]]</a>
[[end]]
</div>

<div class="rig_version">
[[if last_content_ts]]Most recent entry: [[html last_content_ts.strftime("%Y-%m-%d %H:%M:%S") ]] --[[end]]
Generated on [[html last_gen_ts.strftime("%Y-%m-%d %H:%M:%S") ]] by
<a href="http://code.google.com/p/rig3/">Rig3 [[html rig3_version]]</a>
</div>

[[for html_entry in entries]]
  [[raw html_entry]]
[[end]]
<hr width="80%"/>
[[if prev_url]]<a href="[[url rel_base_url]][[url prev_url]]">Prev</a>[[end]]
&nbsp;||&nbsp;
[[if next_url]]<a href="[[url rel_base_url]][[url next_url]]">Next</a>[[end]]
<br/>
Page [[html curr_page]] / [[html max_page]]
<p>
[[raw tracking_code]]
</body>
</html>
