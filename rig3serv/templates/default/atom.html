[[# Main index template.
Expected parameters:
- title: string, Web page title
- entries: list(string), generated HTML for each entry.
- rel_base_url: string, Relative url to base of site. May be empty or like ../../
- prev_url: None or string url
- next_url: None or string url
- curr_page: int, Current page number
- max_page: int, Max page number
- last_gen_ts: the DateTime of when this page was generated
- last_content_ts: the DateTime of the most recent post (based on the post's date, not the filesystem)
- rig3_version: string, a version number or SVN info for this rig3 build
- all_categories: list(string), all categories names.
- tracking_code: Raw HTML for stats tracking (e.g. Google Analytics' tracking code) as defined per site-prefs.
- month_pages: list((string,date)), URLs+date to the month pages in decreasing order.

No assumption is done on the actual data for an entry. It could be the entry
itself, some SHTML entity or just about any textual thing.

References:
- http://tools.ietf.org/html/rfc4287#section-4.1.3
- http://en.wikipedia.org/wiki/Atom_%28standard%29
]]
<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title type="html">[[html public_name]] - [[html title]]</title>
[[if last_content_ts]] [[# Converts last_content_ts to UTC and prints its ISO8601 ]]
  <updated>[[html datetime.datetime.utcfromtimestamp(time.mktime(time.gmtime(time.mktime( last_content_ts.timetuple() )))).isoformat() + "Z" ]]</updated>
[[end]]

[[if base_url]]
  <link rel="alternate" type="text/html" hreflang="en" href="[[url base_url]]"/>
  <link rel="self" type="application/atom+xml" href="[[url base_url]]atom.xml"/>
[[end]]

<generator uri="http://code.google.com/p/rig3/" version="[[raw rig3_version]]">Rig3</generator>

[[for entry in entries]]
  [[raw entry]]
[[end]]

</feed>
